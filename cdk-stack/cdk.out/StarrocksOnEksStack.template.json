{
 "Resources": {
  "StarRocksPortsSecurityGroupA15342DA": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for StarRocks ports access",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": "10.0.0.0/16",
      "Description": "Allow port 8030 access from Cloud9 VPC CIDR",
      "FromPort": 8030,
      "IpProtocol": "tcp",
      "ToPort": 8030
     },
     {
      "CidrIp": "10.0.0.0/16",
      "Description": "Allow port 9030 access from Cloud9 VPC CIDR",
      "FromPort": 9030,
      "IpProtocol": "tcp",
      "ToPort": 9030
     }
    ],
    "VpcId": "vpc-040de5fa9d3c36c4d"
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarRocksPortsSecurityGroup/Resource"
   }
  },
  "EKSControlPlaneSecurityGroup0F217E4E": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for EKS cluster control plane",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": "10.0.0.0/16",
      "Description": "Allow all inbound traffic from VPC CIDR",
      "IpProtocol": "-1"
     }
    ],
    "VpcId": "vpc-040de5fa9d3c36c4d"
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/EKSControlPlaneSecurityGroup/Resource"
   }
  },
  "EksMastersRoleD1AE213C": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "AWS": "arn:aws:iam::436103886277:root"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/EksMastersRole/Resource"
   }
  },
  "kubectl290BBFC9": {
   "Type": "AWS::Lambda::LayerVersion",
   "Properties": {
    "Content": {
     "S3Bucket": "cdk-hnb659fds-assets-436103886277-us-east-1",
     "S3Key": "c74bc0d9e1274346e9ffd0a9b3782ed5b21e65558caca18bee47a15e0fe7efb2.zip"
    },
    "Description": "/opt/kubectl/kubectl 1.31.0; /opt/helm/helm 3.16.1",
    "LicenseInfo": "Apache-2.0"
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/kubectl/Resource",
    "aws:asset:path": "asset.c74bc0d9e1274346e9ffd0a9b3782ed5b21e65558caca18bee47a15e0fe7efb2.zip",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Content"
   }
  },
  "StarrocksEKSClusterKubectlHandlerRole412B93E9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaVPCAccessExecutionRole"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
       ]
      ]
     },
     {
      "Fn::If": [
       "StarrocksEKSClusterHasEcrPublic0FF210C1",
       {
        "Fn::Join": [
         "",
         [
          "arn:",
          {
           "Ref": "AWS::Partition"
          },
          ":iam::aws:policy/AmazonElasticContainerRegistryPublicReadOnly"
         ]
        ]
       },
       {
        "Ref": "AWS::NoValue"
       }
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/KubectlHandlerRole/Resource"
   }
  },
  "StarrocksEKSClusterKubectlHandlerRoleDefaultPolicy450ED73A": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "eks:DescribeCluster",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "StarrocksEKSCluster3A432E2B",
         "Arn"
        ]
       }
      },
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "StarrocksEKSClusterCreationRole9B5C1D38",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "StarrocksEKSClusterKubectlHandlerRoleDefaultPolicy450ED73A",
    "Roles": [
     {
      "Ref": "StarrocksEKSClusterKubectlHandlerRole412B93E9"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/KubectlHandlerRole/DefaultPolicy/Resource"
   }
  },
  "StarrocksEKSClusterRole858C2F38": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "eks.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEKSClusterPolicy"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/Role/Resource"
   }
  },
  "StarrocksEKSClusterCreationRole9B5C1D38": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "AWS": [
         {
          "Fn::GetAtt": [
           "StarrocksEKSClusterKubectlHandlerRole412B93E9",
           "Arn"
          ]
         },
         {
          "Fn::GetAtt": [
           "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
           "Outputs.StarrocksOnEksStackawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole44437312Arn"
          ]
         },
         {
          "Fn::GetAtt": [
           "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
           "Outputs.StarrocksOnEksStackawscdkawseksClusterResourceProviderOnEventHandlerServiceRole8033D399Arn"
          ]
         }
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/Resource/CreationRole/Resource"
   }
  },
  "StarrocksEKSClusterCreationRoleDefaultPolicyAA26A906": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "iam:PassRole",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "StarrocksEKSClusterRole858C2F38",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "eks:CreateCluster",
        "eks:CreateFargateProfile",
        "eks:DeleteCluster",
        "eks:DescribeCluster",
        "eks:DescribeUpdate",
        "eks:TagResource",
        "eks:UntagResource",
        "eks:UpdateClusterConfig",
        "eks:UpdateClusterVersion"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "eks:DeleteFargateProfile",
        "eks:DescribeFargateProfile"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "ec2:DescribeDhcpOptions",
        "ec2:DescribeInstances",
        "ec2:DescribeNetworkInterfaces",
        "ec2:DescribeRouteTables",
        "ec2:DescribeSecurityGroups",
        "ec2:DescribeSubnets",
        "ec2:DescribeVpcs",
        "iam:CreateServiceLinkedRole",
        "iam:GetRole",
        "iam:listAttachedRolePolicies"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "StarrocksEKSClusterCreationRoleDefaultPolicyAA26A906",
    "Roles": [
     {
      "Ref": "StarrocksEKSClusterCreationRole9B5C1D38"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/Resource/CreationRole/DefaultPolicy/Resource"
   }
  },
  "StarrocksEKSCluster3A432E2B": {
   "Type": "Custom::AWSCDK-EKS-Cluster",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
      "Outputs.StarrocksOnEksStackawscdkawseksClusterResourceProviderframeworkonEventBB82E101Arn"
     ]
    },
    "Config": {
     "version": "1.31",
     "roleArn": {
      "Fn::GetAtt": [
       "StarrocksEKSClusterRole858C2F38",
       "Arn"
      ]
     },
     "kubernetesNetworkConfig": {
      "ipFamily": "ipv4"
     },
     "resourcesVpcConfig": {
      "subnetIds": [
       "subnet-0eca00b505cc7100d",
       "subnet-0ece61fe8c51dadd9",
       "subnet-0f04806250dd900c3"
      ],
      "securityGroupIds": [
       {
        "Fn::GetAtt": [
         "EKSControlPlaneSecurityGroup0F217E4E",
         "GroupId"
        ]
       }
      ],
      "endpointPublicAccess": true,
      "endpointPrivateAccess": true
     },
     "accessConfig": {}
    },
    "AssumeRoleArn": {
     "Fn::GetAtt": [
      "StarrocksEKSClusterCreationRole9B5C1D38",
      "Arn"
     ]
    },
    "AttributesRevision": 3
   },
   "DependsOn": [
    "StarrocksEKSClusterCreationRoleDefaultPolicyAA26A906",
    "StarrocksEKSClusterCreationRole9B5C1D38"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/Resource/Resource/Default"
   }
  },
  "StarrocksEKSClusterKubectlReadyBarrier8C929417": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Type": "String",
    "Value": "aws:cdk:eks:kubectl-ready"
   },
   "DependsOn": [
    "StarrocksEKSClusterCreationRoleDefaultPolicyAA26A906",
    "StarrocksEKSClusterCreationRole9B5C1D38",
    "StarrocksEKSCluster3A432E2B"
   ],
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/KubectlReadyBarrier"
   }
  },
  "StarrocksEKSClusterAwsAuthmanifest0C5A2A1E": {
   "Type": "Custom::AWSCDK-EKS-KubernetesResource",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B",
      "Outputs.StarrocksOnEksStackawscdkawseksKubectlProviderframeworkonEventFE021292Arn"
     ]
    },
    "Manifest": {
     "Fn::Join": [
      "",
      [
       "[{\"apiVersion\":\"v1\",\"kind\":\"ConfigMap\",\"metadata\":{\"name\":\"aws-auth\",\"namespace\":\"kube-system\",\"labels\":{\"aws.cdk.eks/prune-c8eb4b64b563c008174ba90b9e71efce9462f19df3\":\"\"}},\"data\":{\"mapRoles\":\"[{\\\"rolearn\\\":\\\"",
       {
        "Fn::GetAtt": [
         "EksMastersRoleD1AE213C",
         "Arn"
        ]
       },
       "\\\",\\\"username\\\":\\\"",
       {
        "Fn::GetAtt": [
         "EksMastersRoleD1AE213C",
         "Arn"
        ]
       },
       "\\\",\\\"groups\\\":[\\\"system:masters\\\"]},{\\\"rolearn\\\":\\\"",
       {
        "Fn::GetAtt": [
         "StarrocksEKSClusterNodegroupStarrocksNodeGroupNodeGroupRoleCE5F4189",
         "Arn"
        ]
       },
       "\\\",\\\"username\\\":\\\"system:node:{{EC2PrivateDNSName}}\\\",\\\"groups\\\":[\\\"system:bootstrappers\\\",\\\"system:nodes\\\"]}]\",\"mapUsers\":\"[]\",\"mapAccounts\":\"[]\"}}]"
      ]
     ]
    },
    "ClusterName": {
     "Ref": "StarrocksEKSCluster3A432E2B"
    },
    "RoleArn": {
     "Fn::GetAtt": [
      "StarrocksEKSClusterCreationRole9B5C1D38",
      "Arn"
     ]
    },
    "PruneLabel": "aws.cdk.eks/prune-c8eb4b64b563c008174ba90b9e71efce9462f19df3",
    "Overwrite": true
   },
   "DependsOn": [
    "StarrocksEKSClusterKubectlReadyBarrier8C929417"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/AwsAuth/manifest/Resource/Default"
   }
  },
  "StarrocksEKSClusterNodegroupStarrocksNodeGroupNodeGroupRoleCE5F4189": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "ec2.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEKSWorkerNodePolicy"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEKS_CNI_Policy"
       ]
      ]
     },
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/NodegroupStarrocksNodeGroup/NodeGroupRole/Resource"
   }
  },
  "StarrocksEKSClusterNodegroupStarrocksNodeGroup3528B5C7": {
   "Type": "AWS::EKS::Nodegroup",
   "Properties": {
    "AmiType": "AL2_x86_64",
    "ClusterName": {
     "Ref": "StarrocksEKSCluster3A432E2B"
    },
    "ForceUpdateEnabled": true,
    "InstanceTypes": [
     "c6i.8xlarge"
    ],
    "NodeRole": {
     "Fn::GetAtt": [
      "StarrocksEKSClusterNodegroupStarrocksNodeGroupNodeGroupRoleCE5F4189",
      "Arn"
     ]
    },
    "ScalingConfig": {
     "DesiredSize": 3,
     "MaxSize": 3,
     "MinSize": 3
    },
    "Subnets": [
     "subnet-0eca00b505cc7100d",
     "subnet-0ece61fe8c51dadd9",
     "subnet-0f04806250dd900c3"
    ]
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/StarrocksEKSCluster/NodegroupStarrocksNodeGroup/Resource"
   }
  },
  "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454": {
   "Type": "AWS::CloudFormation::Stack",
   "Properties": {
    "TemplateURL": {
     "Fn::Join": [
      "",
      [
       "https://s3.us-east-1.",
       {
        "Ref": "AWS::URLSuffix"
       },
       "/cdk-hnb659fds-assets-436103886277-us-east-1/7c06c45eefae3c4e68d1a67d31b6ab904398e68a84db1a52c4459682e51208de.json"
      ]
     ]
    }
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStack/@aws-cdk--aws-eks.ClusterResourceProvider.NestedStackResource",
    "aws:asset:path": "StarrocksOnEksStackawscdkawseksClusterResourceProvider46B69FF1.nested.template.json",
    "aws:asset:property": "TemplateURL"
   }
  },
  "awscdkawseksKubectlProviderNestedStackawscdkawseksKubectlProviderNestedStackResourceA7AEBA6B": {
   "Type": "AWS::CloudFormation::Stack",
   "Properties": {
    "Parameters": {
     "referencetoStarrocksOnEksStackkubectlDFD9CC05Ref": {
      "Ref": "kubectl290BBFC9"
     },
     "referencetoStarrocksOnEksStackStarrocksEKSClusterKubectlHandlerRole87E72E85Arn": {
      "Fn::GetAtt": [
       "StarrocksEKSClusterKubectlHandlerRole412B93E9",
       "Arn"
      ]
     },
     "referencetoStarrocksOnEksStackStarrocksEKSCluster794A2139ClusterSecurityGroupId": {
      "Fn::GetAtt": [
       "StarrocksEKSCluster3A432E2B",
       "ClusterSecurityGroupId"
      ]
     }
    },
    "TemplateURL": {
     "Fn::Join": [
      "",
      [
       "https://s3.us-east-1.",
       {
        "Ref": "AWS::URLSuffix"
       },
       "/cdk-hnb659fds-assets-436103886277-us-east-1/3cf9d35a149e865ae6b44b5b50673cfdb1c986c87cd61de60f2f58699da252ba.json"
      ]
     ]
    }
   },
   "DependsOn": [
    "StarrocksEKSClusterKubectlHandlerRoleDefaultPolicy450ED73A",
    "StarrocksEKSClusterKubectlHandlerRole412B93E9"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/@aws-cdk--aws-eks.KubectlProvider.NestedStack/@aws-cdk--aws-eks.KubectlProvider.NestedStackResource",
    "aws:asset:path": "StarrocksOnEksStackawscdkawseksKubectlProvider04D202D6.nested.template.json",
    "aws:asset:property": "TemplateURL"
   }
  },
  "AuroraParameterGroup4BFCEB23": {
   "Type": "AWS::RDS::DBClusterParameterGroup",
   "Properties": {
    "Description": "Cluster parameter group for aurora-mysql8.0",
    "Family": "aurora-mysql8.0",
    "Parameters": {
     "binlog_format": "ROW",
     "binlog_row_image": "FULL",
     "binlog_checksum": "NONE"
    }
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/AuroraParameterGroup/Resource"
   }
  },
  "AuroraSecurityGroup75F699F6": {
   "Type": "AWS::EC2::SecurityGroup",
   "Properties": {
    "GroupDescription": "Security group for Aurora cluster",
    "SecurityGroupEgress": [
     {
      "CidrIp": "0.0.0.0/0",
      "Description": "Allow all outbound traffic by default",
      "IpProtocol": "-1"
     }
    ],
    "SecurityGroupIngress": [
     {
      "CidrIp": "10.0.0.0/16",
      "Description": "Allow MySQL access from VPC CIDR",
      "FromPort": 3306,
      "IpProtocol": "tcp",
      "ToPort": 3306
     }
    ],
    "VpcId": "vpc-040de5fa9d3c36c4d"
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/AuroraSecurityGroup/Resource"
   }
  },
  "AuroraClusterSubnetsF3E9E6AD": {
   "Type": "AWS::RDS::DBSubnetGroup",
   "Properties": {
    "DBSubnetGroupDescription": "Subnets for AuroraCluster database",
    "SubnetIds": [
     "subnet-0eca00b505cc7100d",
     "subnet-0ece61fe8c51dadd9",
     "subnet-0f04806250dd900c3"
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/AuroraCluster/Subnets/Default"
   }
  },
  "AuroraCluster23D869C0": {
   "Type": "AWS::RDS::DBCluster",
   "Properties": {
    "CopyTagsToSnapshot": true,
    "DBClusterParameterGroupName": {
     "Ref": "AuroraParameterGroup4BFCEB23"
    },
    "DBSubnetGroupName": {
     "Ref": "AuroraClusterSubnetsF3E9E6AD"
    },
    "DeletionProtection": true,
    "Engine": "aurora-mysql",
    "EngineVersion": "8.0.mysql_aurora.3.05.2",
    "MasterUserPassword": "starrocks",
    "MasterUsername": "admin",
    "ServerlessV2ScalingConfiguration": {
     "MaxCapacity": 4,
     "MinCapacity": 0.5
    },
    "VpcSecurityGroupIds": [
     {
      "Fn::GetAtt": [
       "AuroraSecurityGroup75F699F6",
       "GroupId"
      ]
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/AuroraCluster/Resource"
   }
  },
  "AuroraClusterwriter499C523E": {
   "Type": "AWS::RDS::DBInstance",
   "Properties": {
    "DBClusterIdentifier": {
     "Ref": "AuroraCluster23D869C0"
    },
    "DBInstanceClass": "db.serverless",
    "Engine": "aurora-mysql",
    "PromotionTier": 0
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/AuroraCluster/writer/Resource"
   }
  },
  "AuroraClusterreader13116B38E": {
   "Type": "AWS::RDS::DBInstance",
   "Properties": {
    "DBClusterIdentifier": {
     "Ref": "AuroraCluster23D869C0"
    },
    "DBInstanceClass": "db.serverless",
    "Engine": "aurora-mysql",
    "PromotionTier": 1
   },
   "DependsOn": [
    "AuroraClusterwriter499C523E"
   ],
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/AuroraCluster/reader1/Resource"
   }
  },
  "WorkshopBucket06E5C5B4": {
   "Type": "AWS::S3::Bucket",
   "Properties": {
    "BucketName": "starrocks-on-eks-workshop-436103886277-us-east-1"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/WorkshopBucket/Resource"
   }
  },
  "FlinkCdcRepository185F7E91": {
   "Type": "AWS::ECR::Repository",
   "Properties": {
    "ImageScanningConfiguration": {
     "ScanOnPush": true
    },
    "RepositoryName": "flink-cdc-pipeline"
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/FlinkCdcRepository/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/2WRyW7CMBCGn4X7xAWiqj0WglRV3RBIXKuJM4CbxEaecRGy/O5VkkK30/z/LF6+mao4ublWkxEeOdNVnTWmVHEtqGtYEbvgNQEe+S2Snqq4Jh28kdO9d+EAxdb+SiQw2Kq4cg11tT4uXWP0qbODSsD5GzKTsJp1AThXcR50TTJHJhhkNzCoBA22ZYWq2NonPJHfkGfjLFDNKhZNYCEPsyPPguzhMZTkLQnxM1qzJRZ4cRXtzu+9mAS+YhWX6LElIX/50WL+deaf0gIFS2Q637gOpSX5MfYvce7szYNlQaspAWmv4ooOjo0436P5dilBT2UtuDN2B0Vgce1lE33vty6crYx0MIqtfQ1yCD24fn0Jxmo6uvva69UAMWs6glkdStLSZB/5RD0OepNPeroJlifZO3uVq1s1HY/e2ZjMByumJbUa4icFcgo5NQIAAA=="
   },
   "Metadata": {
    "aws:cdk:path": "StarrocksOnEksStack/CDKMetadata/Default"
   }
  }
 },
 "Conditions": {
  "StarrocksEKSClusterHasEcrPublic0FF210C1": {
   "Fn::Equals": [
    {
     "Ref": "AWS::Partition"
    },
    "aws"
   ]
  }
 },
 "Outputs": {
  "StarrocksEKSClusterConfigCommand324EAEDF": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "aws eks update-kubeconfig --name ",
      {
       "Ref": "StarrocksEKSCluster3A432E2B"
      },
      " --region us-east-1 --role-arn ",
      {
       "Fn::GetAtt": [
        "EksMastersRoleD1AE213C",
        "Arn"
       ]
      }
     ]
    ]
   }
  },
  "StarrocksEKSClusterGetTokenCommand3DE05C2D": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "aws eks get-token --cluster-name ",
      {
       "Ref": "StarrocksEKSCluster3A432E2B"
      },
      " --region us-east-1 --role-arn ",
      {
       "Fn::GetAtt": [
        "EksMastersRoleD1AE213C",
        "Arn"
       ]
      }
     ]
    ]
   }
  },
  "ClusterEndpoint": {
   "Value": {
    "Fn::GetAtt": [
     "AuroraCluster23D869C0",
     "Endpoint.Address"
    ]
   }
  },
  "WriterEndpoint": {
   "Value": {
    "Fn::GetAtt": [
     "AuroraCluster23D869C0",
     "Endpoint.Address"
    ]
   }
  },
  "BucketName": {
   "Value": {
    "Ref": "WorkshopBucket06E5C5B4"
   }
  },
  "EKSClusterName": {
   "Value": {
    "Ref": "StarrocksEKSCluster3A432E2B"
   }
  },
  "FlinkCdcRepositoryUri": {
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::Select": [
        4,
        {
         "Fn::Split": [
          ":",
          {
           "Fn::GetAtt": [
            "FlinkCdcRepository185F7E91",
            "Arn"
           ]
          }
         ]
        }
       ]
      },
      ".dkr.ecr.",
      {
       "Fn::Select": [
        3,
        {
         "Fn::Split": [
          ":",
          {
           "Fn::GetAtt": [
            "FlinkCdcRepository185F7E91",
            "Arn"
           ]
          }
         ]
        }
       ]
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "FlinkCdcRepository185F7E91"
      }
     ]
    ]
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}