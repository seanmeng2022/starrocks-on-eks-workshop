{"filter":false,"title":"starrocks_cluster_with_fe_proxy.yaml","tooltip":"/starrocks_cluster_with_fe_proxy.yaml","undoManager":{"mark":36,"position":36,"stack":[[{"start":{"row":0,"column":0},"end":{"row":53,"column":0},"action":"remove","lines":["# This manifest deploys a StarRocks cluster with 3 FEs, 3 BEs.","","apiVersion: starrocks.com/v1","kind: StarRocksCluster","metadata:","  name: starrockscluster-sample","  namespace: starrocks","spec:","  starRocksFeSpec:","    image: starrocks/fe-ubuntu:latest","    replicas: 3","    # If you just want to start a running StarRocks cluster, you can set a smaller request/limit, such as 1 core and 2GB.","    # See https://docs.starrocks.io/docs/deployment/plan_cluster/#cpu-and-memory for more information about how to configure CPU and memory in production.","    limits:","      cpu: 4","      memory: 8Gi","    requests:","      cpu: 4","      memory: 8Gi","    # storageVolumes is optional. If you don't specify it, emptyDir will be used to store FE meta and log, and be aware","    # that the files and directories written to the volume will be completely lost upon container restarting.","    storageVolumes:","    - name: fe-meta","      # storageClassName: \"\"  # If storageClassName is not set, Kubernetes will use the default storage class.","      # fe container stop running if the disk free space which the fe meta directory residents, is less than 5Gi.","      storageSize: 10Gi","      mountPath: /opt/starrocks/fe/meta","    - name: fe-log","      # storageClassName: \"\"  # If storageClassName is not set, Kubernetes will use the default storage class.","      storageSize: 5Gi","      mountPath: /opt/starrocks/fe/log","  starRocksBeSpec:","    image: starrocks/be-ubuntu:latest","    replicas: 3","    # If you just want to start a running StarRocks cluster, you can set a smaller request/limit, such as 1 core and 2GB.","    # See https://docs.starrocks.io/docs/deployment/plan_cluster/#cpu-and-memory for more information about how to configure CPU and memory in production.","    limits:","      cpu: 4","      memory: 8Gi","    requests:","      cpu: 4","      memory: 8Gi","    # storageVolumes is optional. If you don't specify it, emptyDir will be used to store BE data and log, and be aware","    # that the files and directories written to the volume will be completely lost upon container restarting.","    storageVolumes:","    - name: be-data","      # storageClassName: \"\"  # If storageClassName is not set, Kubernetes will use the default storage class.","      storageSize: 1Ti","      mountPath: /opt/starrocks/be/storage","    - name: be-log","      # storageClassName: \"\"  # If storageClassName is not set, Kubernetes will use the default storage class.","      storageSize: 1Gi","      mountPath: /opt/starrocks/be/log",""],"id":2}],[{"start":{"row":0,"column":0},"end":{"row":52,"column":89},"action":"insert","lines":["# This manifest deploys a StarRocks cluster with FE, BE, FE Proxy","# To load data from outside the Kubernetes cluster into StarRocks deployed within the Kubernetes","# cluster, you can deploy the FE Proxy component. So that External data import tools, like flink,","# can use the STREAM LOAD syntax to import data into StarRocks clusters.","# see https://docs.starrocks.io/docs/loading/Flink-connector-starrocks/ for more information","# about how to use flink to import data into StarRocks.","","apiVersion: starrocks.com/v1","kind: StarRocksCluster","metadata:","  name: a-starrocks-with-fe-proxy   # change the name if needed.","spec:","  starRocksFeSpec:","    image: starrocks/fe-ubuntu:latest","    replicas: 3","    limits:","      cpu: 8","      memory: 16Gi","    requests:","      cpu: 8","      memory: 16Gi","    service:","      type: NodePort   # export fe service","      ports:","      - name: query   # fill the name from the fe service ports","        nodePort: 32755","        port: 9030","        containerPort: 9030","  starRocksBeSpec:","    image: starrocks/be-ubuntu:latest","    replicas: 3","    limits:","      cpu: 16","      memory: 64Gi","    requests:","      cpu: 16","      memory: 64Gi","  starRocksFeProxySpec:","    replicas: 1","    limits:","      cpu: 1","      memory: 2Gi","    requests:","      cpu: 1","      memory: 2Gi","    service:","      type: NodePort   # export fe proxy service","      ports:","        - name: http-port   # fill the name from the fe proxy service ports","          containerPort: 8080","          nodePort: 30180   # The range of valid ports is 30000-32767","          port: 8080","    resolver: \"kube-dns.kube-system.svc.cluster.local\"  # this is the default dns server."],"id":3}],[{"start":{"row":10,"column":64},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":11,"column":0},"end":{"row":11,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":11,"column":2},"end":{"row":11,"column":22},"action":"insert","lines":["namespace: starrocks"],"id":5}],[{"start":{"row":17,"column":11},"end":{"row":17,"column":12},"action":"remove","lines":["8"],"id":6}],[{"start":{"row":17,"column":11},"end":{"row":17,"column":12},"action":"insert","lines":["4"],"id":7}],[{"start":{"row":18,"column":15},"end":{"row":18,"column":16},"action":"remove","lines":["6"],"id":8},{"start":{"row":18,"column":14},"end":{"row":18,"column":15},"action":"remove","lines":["1"]}],[{"start":{"row":18,"column":14},"end":{"row":18,"column":15},"action":"insert","lines":["8"],"id":9}],[{"start":{"row":20,"column":11},"end":{"row":20,"column":12},"action":"remove","lines":["8"],"id":10}],[{"start":{"row":20,"column":11},"end":{"row":20,"column":12},"action":"insert","lines":["4"],"id":11}],[{"start":{"row":21,"column":15},"end":{"row":21,"column":16},"action":"remove","lines":["6"],"id":12},{"start":{"row":21,"column":14},"end":{"row":21,"column":15},"action":"remove","lines":["1"]}],[{"start":{"row":21,"column":14},"end":{"row":21,"column":15},"action":"insert","lines":["8"],"id":13}],[{"start":{"row":23,"column":12},"end":{"row":23,"column":20},"action":"remove","lines":["NodePort"],"id":14},{"start":{"row":23,"column":12},"end":{"row":23,"column":13},"action":"insert","lines":["L"]},{"start":{"row":23,"column":13},"end":{"row":23,"column":14},"action":"insert","lines":["o"]},{"start":{"row":23,"column":14},"end":{"row":23,"column":15},"action":"insert","lines":["a"]},{"start":{"row":23,"column":15},"end":{"row":23,"column":16},"action":"insert","lines":["d"]},{"start":{"row":23,"column":16},"end":{"row":23,"column":17},"action":"insert","lines":["B"]},{"start":{"row":23,"column":17},"end":{"row":23,"column":18},"action":"insert","lines":["a"]},{"start":{"row":23,"column":18},"end":{"row":23,"column":19},"action":"insert","lines":["l"]},{"start":{"row":23,"column":19},"end":{"row":23,"column":20},"action":"insert","lines":["a"]}],[{"start":{"row":23,"column":20},"end":{"row":23,"column":21},"action":"insert","lines":["n"],"id":15},{"start":{"row":23,"column":21},"end":{"row":23,"column":22},"action":"insert","lines":["c"]},{"start":{"row":23,"column":22},"end":{"row":23,"column":23},"action":"insert","lines":["e"]},{"start":{"row":23,"column":23},"end":{"row":23,"column":24},"action":"insert","lines":["r"]}],[{"start":{"row":33,"column":12},"end":{"row":33,"column":13},"action":"remove","lines":["6"],"id":16},{"start":{"row":33,"column":11},"end":{"row":33,"column":12},"action":"remove","lines":["1"]}],[{"start":{"row":33,"column":11},"end":{"row":33,"column":12},"action":"insert","lines":["4"],"id":17}],[{"start":{"row":34,"column":15},"end":{"row":34,"column":16},"action":"remove","lines":["4"],"id":18},{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"remove","lines":["6"]}],[{"start":{"row":34,"column":14},"end":{"row":34,"column":15},"action":"insert","lines":["8"],"id":19}],[{"start":{"row":36,"column":12},"end":{"row":36,"column":13},"action":"remove","lines":["6"],"id":20},{"start":{"row":36,"column":11},"end":{"row":36,"column":12},"action":"remove","lines":["1"]}],[{"start":{"row":36,"column":11},"end":{"row":36,"column":12},"action":"insert","lines":["4"],"id":21}],[{"start":{"row":37,"column":15},"end":{"row":37,"column":16},"action":"remove","lines":["4"],"id":22},{"start":{"row":37,"column":14},"end":{"row":37,"column":15},"action":"remove","lines":["6"]}],[{"start":{"row":37,"column":14},"end":{"row":37,"column":15},"action":"insert","lines":["8"],"id":23}],[{"start":{"row":47,"column":19},"end":{"row":47,"column":20},"action":"remove","lines":["t"],"id":24},{"start":{"row":47,"column":18},"end":{"row":47,"column":19},"action":"remove","lines":["r"]},{"start":{"row":47,"column":17},"end":{"row":47,"column":18},"action":"remove","lines":["o"]},{"start":{"row":47,"column":16},"end":{"row":47,"column":17},"action":"remove","lines":["P"]},{"start":{"row":47,"column":15},"end":{"row":47,"column":16},"action":"remove","lines":["e"]},{"start":{"row":47,"column":14},"end":{"row":47,"column":15},"action":"remove","lines":["d"]},{"start":{"row":47,"column":13},"end":{"row":47,"column":14},"action":"remove","lines":["o"]},{"start":{"row":47,"column":12},"end":{"row":47,"column":13},"action":"remove","lines":["N"]}],[{"start":{"row":47,"column":12},"end":{"row":47,"column":13},"action":"insert","lines":["L"],"id":25},{"start":{"row":47,"column":13},"end":{"row":47,"column":14},"action":"insert","lines":["o"]},{"start":{"row":47,"column":14},"end":{"row":47,"column":15},"action":"insert","lines":["a"]},{"start":{"row":47,"column":15},"end":{"row":47,"column":16},"action":"insert","lines":["d"]},{"start":{"row":47,"column":16},"end":{"row":47,"column":17},"action":"insert","lines":["B"]},{"start":{"row":47,"column":17},"end":{"row":47,"column":18},"action":"insert","lines":["a"]},{"start":{"row":47,"column":18},"end":{"row":47,"column":19},"action":"insert","lines":["l"]},{"start":{"row":47,"column":19},"end":{"row":47,"column":20},"action":"insert","lines":["a"]},{"start":{"row":47,"column":20},"end":{"row":47,"column":21},"action":"insert","lines":["n"]},{"start":{"row":47,"column":21},"end":{"row":47,"column":22},"action":"insert","lines":["c"]}],[{"start":{"row":47,"column":22},"end":{"row":47,"column":23},"action":"insert","lines":["e"],"id":26},{"start":{"row":47,"column":23},"end":{"row":47,"column":24},"action":"insert","lines":["r"]}],[{"start":{"row":39,"column":14},"end":{"row":39,"column":15},"action":"remove","lines":["1"],"id":27}],[{"start":{"row":39,"column":14},"end":{"row":39,"column":15},"action":"insert","lines":["2"],"id":28}],[{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"remove","lines":["1"],"id":29}],[{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"insert","lines":["4"],"id":30}],[{"start":{"row":42,"column":14},"end":{"row":42,"column":15},"action":"remove","lines":["2"],"id":31}],[{"start":{"row":42,"column":14},"end":{"row":42,"column":15},"action":"insert","lines":["8"],"id":32}],[{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"remove","lines":["1"],"id":33}],[{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"insert","lines":["2"],"id":34}],[{"start":{"row":45,"column":14},"end":{"row":45,"column":15},"action":"remove","lines":["2"],"id":35}],[{"start":{"row":45,"column":14},"end":{"row":45,"column":15},"action":"insert","lines":["8"],"id":40}],[{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"remove","lines":["2"],"id":41}],[{"start":{"row":44,"column":11},"end":{"row":44,"column":12},"action":"insert","lines":["4"],"id":42}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":53,"column":89},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1739892129071,"hash":"a19c2cb9346cbf44875ad21072cc0bd7ddd3f717"}